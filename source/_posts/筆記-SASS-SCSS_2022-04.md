---
title: '[筆記]_SASS/SCSS'
date: 2022-04-01 11:37:42
tags: [筆記, SASS/SCSS]
---

<style>
  .d-flex {
    display: flex;
  }
  .d-flex .col {
    flex: 1;
  }
  .d-flex .d-flex-item {
    margin: 0 5px;
  }
  .flex-direction-column {
    flex-direction: column;
  }
  .arrow {
    color:#aaa;
  }
  .arrow.down {
    transform: rotate(90deg);
  }
</style>

<small>Releases v3.6.3 (2019/11/4)</small>

Sass 是一款強化CSS 的輔助工具，
它在CSS 語法的基礎上增加了變數(variables)、嵌套(nested rules)、混合(mixins)、導入(inline imports) 等高級功能。
<!-- more -->

## CSS 功能拓展
  - ### 嵌套規則
    Sass 允許將一套CSS 樣式嵌套進另一套樣式中，
    內層的樣式將它外層的選擇器作為父選擇器。
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          #main p {
            color: #00ff00;
            width: 97%;
            .redbox {
              background-color: #ff0000;
              color: #000000;
            }
          }
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* css */
          #main p {
            color: #00ff00;
            width: 97%;
          }
          #main p .redbox {
            background-color: #ff0000;
            color: #000000;
          }
        ```
      </div>
    </div>
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          ul > {
            li {
              list-style-type: none;
            }
          }
          h2 {
            + p {
              border-top: 1px solid gray;
            }
          }
          p {
            ~ {
              span {
                opacity: 0.8;
              }
            }
          }
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* scss */
          ul > li {
            list-style-type: none;
          }
          h2 + p {
            border-top: 1px solid gray;
          }
          p ~ span {
            opacity: 0.8;
          }
        ```
      </div>
    </div>
  - ### 父選擇器 `&`
    在嵌套CSS 規則時，有時也需要直接使用嵌套外層的父選擇器。
    可以用 `&` 代表嵌套規則外層的父選擇器。
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          a {
            font-weight: bold;
            text-decoration: none;
            &:hover { text-decoration: underline; }
            body.firefox & { font-weight: normal; }
          }
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* css */
          a {
            font-weight: bold;
            text-decoration: none;
          }
          a:hover {
            text-decoration: underline;
          }
          body.firefox a {
            font-weight: normal;
          }
        ```
      </div>
    </div>
  - ### 屬性嵌套
    有些CSS 屬性遵循相同的命名空間(namespace)，
    比如 font-family, font-size, font-weight 都以 font 作為屬性的命名空間。
    為了便於管理這樣的屬性，同時也為了避免了重複輸入，Sass 允許將屬性嵌套在命名空間中。
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          .funky {
            font: {
              family: fantasy;
              size: 30em;
              weight: bold;
            }
          }
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* css */
          .funky {
            font-family: fantasy;
            font-size: 30em;
            font-weight: bold;
          }
        ```
      </div>
    </div>

## 註釋
  - Sass 支持標準的CSS 多行註釋/* */，以及單行註釋//，
  前者會被完整輸出到編譯後的CSS文件中，而後者則不會。
  <div>
    ```scss
      /* scss */
      /* This comment is
      * several lines long.
      * since it uses the CSS comment syntax,
      * it will appear in the CSS output. */
      body { color: black; }
      // These comments are only one line long each.
      // They won't appear in the CSS output,
      // since they use the single-line comment syntax.
      a { color: green; }
    ```
    <div class="d-flex">
      <small class="arrow down">➤</small>
      <small class="arrow down">➤</small>
    </div>
    ```css
      /* css */
      /* This comment is
      * several lines long.
      * since it uses the CSS comment syntax,
      * it will appear in the CSS output. */
      body {
        color: black; }
      a {
        color: green; }
    ```
  </div>

  - 將 `!` 作為多行註釋的第一個字符表示在壓縮輸出模式下保留這條註釋並輸出到CSS 文件中，通常用於添加版權信息。
  也可在註釋中輸出變數值(插值語句)。
  <div>
    ```scss
      /* scss */
      $version: "1.2.3";
      /* This CSS is generated by My Snazzy Framework version #{$version}. */
    ```
    <div class="d-flex">
      <small class="arrow down">➤</small>
      <small class="arrow down">➤</small>
    </div>
    ```css
      /* css */
      /* This CSS is generated by My Snazzy Framework version 1.2.3. */
    ```
  </div>

## 變數
  - Sass變數，以 `$` 開頭，可以在任何地方聲明。
  變數可以減少重複、進行複雜的運算。
  <div class="d-flex">
    <div class="d-flex-item col">
      ```scss
        /* scss */
        $base-color: #c6538c;
        $border-dark: rgba($base-color, 0.88);
        .alert {
          border: 1px solid $border-dark;
        }
      ```
    </div>
    <div class="d-flex flex-direction-column">
      <small class="arrow">➤</small>
      <small class="arrow">➤</small>
    </div>
    <div class="d-flex-item col">
      ```css
        /* css */
        .alert {
          border: 1px solid rgba(198, 83, 140, 0.88);
        }
      ```
    </div>
  </div>

  - ### 默認值
    - 當變數賦值時，如果該變數已經有一個值，舊值將被覆蓋。
      Sass 提供了 `!default` 標誌。僅當該變數未定義或其值為 `null` ，才使用新值。
      <div class="d-flex">
        <div class="d-flex-item col">
          ```scss
            /* scss */
            $content: "First content";
            $content: "Second content?" !default;
            #main {
              content: $content;
            }
          ```
        </div>
        <div class="d-flex flex-direction-column">
          <small class="arrow">➤</small>
          <small class="arrow">➤</small>
        </div>
        <div class="d-flex-item col">
          ```css
            /* css */
            #main {
              content: "First content";
            }
          ```
        </div>
      </div>

    - 使用規則： `!default` 加載模塊時可以配置定義的變數。
      要加載帶有配置的模塊，請編寫 `@use <url> with (<variable>: <value>)` ，
      配置的值將覆蓋變數的默認值。
      只能配置在樣式表頂層編寫的帶有 `!default` 標誌的變數。
      <div class="d-flex">
        <div class="d-flex-item col">
          ```scss
            // _library.scss
            $border-radius: 0.25rem !default;
            code {
              border-radius: $border-radius;
            }
          ```
          ```scss
            // style.scss
            @use 'library' with (
              $border-radius: 0.1rem
            );
          ```
        </div>
        <div class="d-flex flex-direction-column">
          <small class="arrow">➤</small>
          <small class="arrow">➤</small>
        </div>
        <div class="d-flex-item col">
          ```css
            /* css */
            code {
              border-radius: 0.1rem;
            }
          ```
        </div>
      </div>

  - ### 作用域(區域變數、全域變數)
    - 當區域變數與全域變數同名時，不受全域變數影響。
      <div class="d-flex">
        <div class="d-flex-item col">
          ```scss
            /* scss */
            $variable: global value;
            .content {
              $variable: local value;
              value: $variable;
            }
            .sidebar {
              value: $variable;
            }
          ```
        </div>
        <div class="d-flex flex-direction-column">
          <small class="arrow">➤</small>
          <small class="arrow">➤</small>
        </div>
        <div class="d-flex-item col">
          ```css
            /* css */
            .content {
              value: local value;
            }
            .sidebar {
              value: global value;
            }
          ```
        </div>
      </div>
    
    - 使用規則： `!global`，始終配置全域變數，不受區域變數影響
      <div class="d-flex">
        <div class="d-flex-item col">
          ```scss
            /* scss */
            $variable: first global value;
            .content {
              $variable: second global value !global;
              value: $variable;
            }
            .sidebar {
              value: $variable;
            }
          ```
        </div>
        <div class="d-flex flex-direction-column">
          <small class="arrow">➤</small>
          <small class="arrow">➤</small>
        </div>
        <div class="d-flex-item col">
          ```css
            /* css */
            .content {
              value: second global value;
            }
            .sidebar {
              value: second global value;
            }
          ```
        </div>
      </div>

    - 使用規則： 條件式宣告
      <div class="d-flex">
        <div class="d-flex-item col">
          ```scss
            /* scss */
            $dark-theme: true !default;
            $primary-color: #f8bbd0 !default;
            $accent-color: #6a1b9a !default;

            @if $dark-theme {
              $primary-color: darken($primary-color, 60%);
              $accent-color: lighten($accent-color, 60%);
            }

            .button {
              background-color: $primary-color;
              border: 1px solid $accent-color;
              border-radius: 3px;
            }
          ```
        </div>
        <div class="d-flex flex-direction-column">
          <small class="arrow">➤</small>
          <small class="arrow">➤</small>
        </div>
        <div class="d-flex-item col">
          ```css
            /* css */
            .button {
              background-color: #750c30;
              border: 1px solid #f5ebfc;
              border-radius: 3px;
            }
          ```
        </div>
      </div>

## 插值
  - 使用 `#{}` 插值語句可以在選擇器或屬性名中使用變數。
    使用 `#{}` 可以避免Sass 運行運算表達式，直接編譯CSS。
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          $name: '.foo';
          $attr: border;
          p#{$name} {
            #{$attr}-color: blue;
          }
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* css */
          p.foo {
            border-color: blue;
          }
        ```
      </div>
    </div>
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          p {
            $font-size: 12px;
            $line-height: 30px;
            font: #{$font-size}/#{$line-height};
          }
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* css */
          p {
            font: 12px/30px;
          }
        ```
      </div>
    </div>
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          @mixin corner-icon($name, $top-or-bottom, $left-or-right) {
            .icon-#{$name} {
              background-image: url("/icons/#{$name}.svg");
              position: absolute;
              #{$top-or-bottom}: 0;
              #{$left-or-right}: 0;
            }
          }

          @include corner-icon("mail", top, left);
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* css */
          .icon-mail {
            background-image: url("/icons/mail.svg");
            position: absolute;
            top: 0;
            left: 0;
          }
        ```
      </div>
    </div>
  - 注入未引用的字符串中。在動態生成名稱(例如：動畫)時，特別有用。
    <div class="d-flex">
      <div class="d-flex-item col">
        ```scss
          /* scss */
          @mixin inline-animation($duration) {
            $name: inline-#{unique-id()};

            @keyframes #{$name} {
              @content;
            }

            animation-name: $name;
            animation-duration: $duration;
            animation-iteration-count: infinite;
          }

          .pulse {
            @include inline-animation(2s) {
              from { background-color: yellow }
              to { background-color: red }
            }
          }
        ```
      </div>
      <div class="d-flex flex-direction-column">
        <small class="arrow">➤</small>
        <small class="arrow">➤</small>
      </div>
      <div class="d-flex-item col">
        ```css
          /* css */
          .pulse {
            animation-name: inline-u368htqnd;
            animation-duration: 2s;
            animation-iteration-count: infinite;
          }
          @keyframes inline-u368htqnd {
            from {
              background-color: yellow;
            }
            to {
              background-color: red;
            }
          }
        ```
      </div>
    </div>




<div style="text-align: center; color:#aaa;"><small>/... 未完待續 .../</small></div>